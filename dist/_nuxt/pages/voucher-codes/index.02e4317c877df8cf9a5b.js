webpackJsonp([3],{"4bNR":function(t,e,s){"use strict";(function(t){var a=s("Xxa5"),n=s.n(a),i=s("Gu7T"),r=s.n(i),c=s("exGp"),o=s.n(c),u=s("mtWM"),l=s.n(u),p=s("yLYr"),d=s("M2pF"),h=s.n(d);e.a={name:"VoucherCodes",mixins:[h.a],components:{DealQuickView:p.a},head:function(){return{title:this.page.metaTitle,meta:[{hid:"description",name:"description",content:this.page.metaDescription}]}},data:function(){return{showQuickView:!1,selectedDeal:null,isLoading:!1,storeId:null}},computed:{logo:function(){return"/assets/saletag.svg"}},methods:{viewDeal:function(t){this.selectedDeal=t,this.showQuickView=!0},loadMore:function(){var t=o()(n.a.mark(function t(){var e,s,a,i;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return this.isLoading=!0,t.prev=1,s="https://api.saletag.co.uk/api/v1"+this.result.nextPageUrl,t.next=5,l.a.get(s);case 5:a=t.sent,i=a.data,(e=this.result.deals).push.apply(e,r()(i.deals)),this.result.nextPageUrl=i.nextPageUrl,this.isLoading=!1,t.next=15;break;case 12:t.prev=12,t.t0=t.catch(1),this.isLoading=!1;case 15:case"end":return t.stop()}},t,this,[[1,12]])}));return function(){return t.apply(this,arguments)}}(),getStoreDeals:function(){var t=o()(n.a.mark(function t(e){var s,a,i;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.$nuxt.$loading.start(),this.storeId=e,s="https://api.saletag.co.uk/api/v1/getDeals?store="+e,t.next=6,l.a.get(s);case 6:a=t.sent,i=a.data,this.result=i,this.$nuxt.$loading.finish(),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),this.$nuxt.$loading.finish();case 15:case"end":return t.stop()}},t,this,[[0,12]])}));return function(e){return t.apply(this,arguments)}}()},created:function(){this.cdn2=t.env.dealImageUrl},asyncData:function(){var t=o()(n.a.mark(function t(e){var s,a,i;e.params;return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,s="https://api.saletag.co.uk/api/v1/getPageData",t.next=4,l.a.post(s,{view:"voucher"});case 4:return a=t.sent,i=a.data,t.abrupt("return",{page:i.page,result:i.result});case 9:t.prev=9,t.t0=t.catch(0);case 11:case"end":return t.stop()}},t,this,[[0,9]])}));return function(e){return t.apply(this,arguments)}}()}}).call(e,s("W2nU"))},BTLc:function(t,e,s){"use strict";var a={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("page",{attrs:{navbar:"navbar-sm",title:"Voucher Codes"}},[s("deal-quick-view",{attrs:{showQuickView:t.showQuickView,deal:t.selectedDeal},on:{"update:showQuickView":function(e){t.showQuickView=e}}}),s("hero",{attrs:{title:"Vouchers & Discount Deals",isTitleCentered:""}},[s("section",{staticClass:"tiles"},t._l(t.result.deals,function(e){return s("article",{key:e._id,staticClass:"tile is-deal mgb-15"},[s("figure",{staticClass:"tile-image"},[s("img",{attrs:{src:t.storeLogoBySlug(e.store.slug)}})]),s("p",{staticClass:"hg-store"},[t._v(t._s(e.store.name))]),s("h4",{staticClass:"title is-6"},[t._v(t._s(e.title))]),s("div",["voucher"===e.type?s("button",{staticClass:"button is-fullwidth has-code",on:{click:function(s){s.preventDefault(),t.viewDeal(e)}}},[s("span",{staticClass:"is-code"},[t._v(t._s(e.code))]),s("span",{staticClass:"is-code-text"},[s("em",[t._v("GET CODE")])])]):s("button",{staticClass:"button is-fullwidth"},[t._v("Get Deal")]),t.$helpers.daysLeft(e.endAt)<1?s("p",[t._v("Expired")]):t._e(),1===t.$helpers.daysLeft(e.endAt)?s("p",[t._v("Expires Today")]):t._e(),1===t.$helpers.daysLeft(e.endAt)?s("p",[t._v("Expires soon")]):t._e()])])})),s("br"),t.result.nextPageUrl?s("button",{staticClass:"button is-info",class:{"is-loading":t.isLoading},on:{click:t.loadMore}},[t._v("Load more..")]):t._e()])],1)},staticRenderFns:[]};e.a=a},M2pF:function(t,e,s){(function(e){t.exports={methods:{storeLogoBySlug:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"xl";return this.cdn2+t+"-"+e+".png"},postImageUrl:function(t){return this.cdn2+t+"-g.jpg"},productImageUrl:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"g";return this.baseImageUrl+t+"-"+e+".jpg"}},created:function(){this.baseImageUrl=e.env.baseImageUrl,this.cdn2=e.env.dealImageUrl}}}).call(e,s("W2nU"))},yQta:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("4bNR"),n=s("BTLc"),i=s("VU/8")(a.a,n.a,!1,null,null,null);e.default=i.exports}});