var FTScroller, CubicBezier; !function () { "use strict"; var e, t, n, r, o, i, l, s, a; void 0 !== document.createElement("div").style.transform ? (e = "", t = "", n = "transform") : window.opera && "[object Opera]" === Object.prototype.toString.call(window.opera) ? (e = "-o-", t = "O", n = "OTransform") : void 0 !== document.documentElement.style.MozTransform ? (e = "-moz-", t = "Moz", n = "MozTransform") : void 0 !== document.documentElement.style.webkitTransform ? (e = "-webkit-", t = "webkit", n = "-webkit-transform") : "string" == typeof navigator.cpuClass && (e = "-ms-", t = "ms", n = "-ms-transform"), "pointerEnabled" in window.navigator ? (r = !1, s = window.navigator.pointerEnabled, o = "setPointerCapture", i = "releasePointerCapture", l = "lostpointercapture", a = "touch") : "msPointerEnabled" in window.navigator && (r = !0, s = window.navigator.msPointerEnabled, o = "msSetPointerCapture", i = "msReleasePointerCapture", l = "MSLostPointerCapture", a = 2); var c = !1, u = !s, d = !1; "hasOwnProperty" in window && (d = !window.hasOwnProperty("ArrayBuffer")); var p = window.Selection && window.Selection.prototype.removeAllRanges; d || void 0 !== document.createElement("div").style[t + (t ? "P" : "p") + "erspective"] || (d = !0); var f, h, y, m = t + (t ? "T" : "t") + "ransform", g = t + (t ? "T" : "t") + "ransition", w = d ? "translate(" : "translate3d(", x = { x: "", y: "0," }, v = { x: ",0" + (d ? ")" : ",0)"), y: d ? ")" : ",0)" }, b = .998; h = document.getElementsByTagName("head")[0] || document.documentElement, (y = document.createElement("style")).type = "text/css", f = [".ftscroller_container { overflow: hidden; position: relative; max-height: 100%; -webkit-tap-highlight-color: rgba(0, 0, 0, 0); -ms-touch-action: none }", ".ftscroller_hwaccelerated { " + (d ? e + "transform-style: preserve-3d;" : e + "transform: translateZ(0);") + " }", ".ftscroller_x, .ftscroller_y { position: relative; min-width: 100%; min-height: 100%; overflow: hidden }", ".ftscroller_x { display: inline-block }", ".ftscroller_scrollbar { pointer-events: none; position: absolute; width: 5px; height: 5px; border: 1px solid rgba(255, 255, 255, 0.3); -webkit-border-radius: 3px; border-radius: 6px; opacity: 0; " + e + "transition: opacity 350ms; z-index: 10; -webkit-box-sizing: content-box; -moz-box-sizing: content-box; box-sizing: content-box }", ".ftscroller_scrollbarx { bottom: 2px; left: 2px }", ".ftscroller_scrollbary { right: 2px; top: 2px }", ".ftscroller_scrollbarinner { height: 100%; background: #000; -webkit-border-radius: 2px; border-radius: 4px / 6px }", ".ftscroller_scrollbar.active { opacity: 0.5; " + e + "transition: none; -o-transition: all 0 none }"], y.styleSheet ? y.styleSheet.cssText = f.join("\n") : y.appendChild(document.createTextNode(f.join("\n"))), h.insertBefore(y, h.firstChild), (FTScroller = function (d, f) { var h, y, M, E, C, S, _, T, F, z, O, B, L, P, A, X, Y, N, R, D, I, k, H, W, j, q, U, K, Z, V, G, J, Q, $, ee, te, ne, re, oe, ie, le, se, ae, ce, ue, de, pe, fe, he, ye, me, ge, we, xe, ve, be, Me, Ee, Ce, Se, _e = { scrollbars: !0, scrollingX: !0, scrollingY: !0, scrollBoundary: 1, scrollResponseBoundary: 1, alwaysScroll: !1, contentWidth: void 0, contentHeight: void 0, snapping: !1, snapSizeX: void 0, snapSizeY: void 0, singlePageScrolls: !1, bouncing: !0, flinging: !0, updateOnChanges: !0, updateOnWindowResize: !1, baseAlignments: { x: -1, y: -1 }, windowScrollingActiveFlag: void 0, hwAccelerationClass: "ftscroller_hwaccelerated", enableRequestAnimationFrameSupport: !0, maxFlingDuration: 1e3, disabledInputMethods: { mouse: !1, touch: !1, scroll: !1, pointer: !1, focus: !1 }, scrollingClassName: void 0, flingBezier: new CubicBezier(.103, .389, .307, .966), bounceDecelerationBezier: new CubicBezier(0, .5, .5, 1), bounceBezier: new CubicBezier(.7, 0, .9, .6), invertScrollWheel: !0 }, Te = this, Fe = d, ze = { x: null, y: null }, Oe = { x: null, y: null }, Be = { container: { x: null, y: null }, content: { x: null, y: null, rawX: null, rawY: null }, scrollEnd: { x: null, y: null } }, Le = { x: !1, y: !1, userX: !1, userY: !1 }, Pe = { x: 0, y: 0 }, Ae = { x: 0, y: 0 }, Xe = { x: 0, y: 0 }, Ye = !1, Ne = 0, Re = !1, De = !1, Ie = !1, ke = !1, He = { x: 0, y: 0 }, We = { x: 0, y: 0 }, je = { x: 0, y: 0 }, qe = { x: null, y: null }, Ue = !1, Ke = [], Ze = !1, Ve = {}, Ge = { x: !0, y: !0 }, Je = { x: 0, y: 0, t: 0 }, Qe = { x: 0, y: 0 }, $e = [], et = !1, tt = !1, nt = !1, rt = window.requestAnimationFrame || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame || window.msRequestAnimationFrame || !1, ot = window.cancelAnimationFrame || window.cancelRequestAnimationFrame || window.mozCancelAnimationFrame || window.mozCancelRequestAnimationFrame || window.webkitCancelAnimationFrame || window.webkitCancelRequestAnimationFrame || window.msCancelAnimationFrame || window.msCancelRequestAnimationFrame || !1, it = { scrollstart: [], scroll: [], scrollend: [], segmentwillchange: [], segmentdidchange: [], reachedstart: [], reachedend: [], scrollinteractionend: [] }; if ("object" == typeof FTScrollerOptions && FTScrollerOptions) for (h in FTScrollerOptions) FTScrollerOptions.hasOwnProperty(h) && _e.hasOwnProperty(h) && (_e[h] = FTScrollerOptions[h]); if (f) { for (h in f) if (f.hasOwnProperty(h)) { if ("paginatedSnap" === h) { console.warn('FTScroller: "paginatedSnap" is deprecated; converting to "singlePageScrolls"'), _e.singlePageScrolls = f.paginatedSnap; continue } _e.hasOwnProperty(h) && (_e[h] = f[h]) } f.hasOwnProperty("snapSizeX") && !isNaN(f.snapSizeX) && (Le.userX = Le.x = f.snapSizeX), f.hasOwnProperty("snapSizeY") && !isNaN(f.snapSizeY) && (Le.userY = Le.y = f.snapSizeY), f.contentWidth && f.contentHeight && (f.updateOnChanges = !1) } return _e.scrollResponseBoundary = Math.min(_e.scrollBoundary, _e.scrollResponseBoundary), _e.scrollingX && (Ve.x = !0), _e.scrollingY && (Ve.y = !0), rt = _e.enableRequestAnimationFrameSupport && rt, ot = rt && ot, y = function (e) { var t, n; for (oe(), ne(), et && (window.clearTimeout(et), et = !1), t = 0, n = Ke.length; t < n; t += 1)window.clearTimeout(Ke[t]); if (Ke.length = 0, e && Fe) { for (; Ce.firstChild;)Fe.appendChild(Ce.firstChild); Fe.removeChild(Ee) } Fe = null, Ee = null, Ce = null, ze.x = null, ze.y = null, Oe.x = null, Oe.y = null; for (t in it) it.hasOwnProperty(t) && (it[t].length = 0); c && c === Te && (c = !1, _e.windowScrollingActiveFlag && (window[_e.windowScrollingActiveFlag] = !1)) }, M = function (e, t) { Le.userX = e, Le.userY = t, Le.x = e, Le.y = t, Be.content.x = Math.ceil(Be.content.rawX / e) * e, Be.content.y = Math.ceil(Be.content.rawY / t) * t, Be.scrollEnd.x = Be.container.x - Be.content.x, Be.scrollEnd.y = Be.container.y - Be.content.y, j(), X(), U(!0) }, E = function (e, t, n) { var r, o, i, l, s = 0, a = {}; B(Date.now()), i = { x: -e, y: -t }; for (l in Ve) if (Ve.hasOwnProperty(l)) { if (!1 === (r = i[l])) continue; r = Math.min(0, Math.max(Be.scrollEnd[l], r)), _e.snapping && Le[l] && (r = Math.round(r / Le[l]) * Le[l]), !0 === (o = n || 0) && (o = 20 * Math.sqrt(Math.abs(He[l] - r))), K(l, r, o), a[l] = r, s = Math.max(s, o) } He.x === i.x && He.y === i.y || (Ze = !0, G("scrollstart", Z()), G("scroll", Z())), s ? Ke.push(setTimeout(function () { var e; for (e in a) a.hasOwnProperty(e) && (We[e] = a[e]); L() }, s)) : L() }, C = function (e, t, n) { E(parseFloat(e) - He.x, parseFloat(t) - He.y, n) }, S = function (e, t, n) { f.contentWidth = e || f.contentWidth, f.contentHeight = t || f.contentHeight, W(!!n) }, _ = function (e, t) { return !!it.hasOwnProperty(e) && (it[e].push(t), !0) }, T = function (e, t) { var n; if (!it.hasOwnProperty(e)) return !1; for (n = it[e].length; n >= 0; n -= 1)it[e][n] === t && it[e].splice(n, 1); return !0 }, F = function (e) { var t, n; for (t in _e.disabledInputMethods) e[t] = !!e[t], _e.disabledInputMethods[t] !== e[t] && (n = !0), _e.disabledInputMethods[t] = e[t]; n && ie() }, z = function (e, t, n, r) { var o = ke; return n <= 0 && (n = Date.now()), (!_e.windowScrollingActiveFlag || !window[_e.windowScrollingActiveFlag]) && (o ? P() : Ue = !1, Je.x = e, Je.y = t, Je.t = n, je.x = We.x, je.y = We.y, $e.length = 0, $e.push({ x: e, y: t, t: n }), o && O(e, t, n, r, o), !0) }, O = function (e, t, n, r, o) { var i, l, s, a = !1, u = { x: e - Je.x, y: t - Je.y }; if (n <= 0 && (n = Date.now()), je.x = He.x + u.x, je.y = He.y + u.y, !De && (c && c !== Te ? l = !0 : _e.windowScrollingActiveFlag && window[_e.windowScrollingActiveFlag] && (l = !0), l)) return ve(), Ye = !1, void (Ie && (ne(), X(!0) || L(!0))); if (Ie) r.preventDefault(); else { if (s = $(je), !o && (!Ge.x || Math.abs(u.x) < _e.scrollResponseBoundary) && (!Ge.y || Math.abs(u.y) < _e.scrollResponseBoundary)) return; if ((_e.bouncing || o || Ge.x && u.x && s.x < 0 || Ge.y && u.y && s.y < 0) && r.preventDefault(), !(_e.bouncing || o || Ge.x && u.x && !(s.x > 0) || Ge.y && u.y && !(s.y > 0))) return void (Ue = !0); ee(), Ie = !0, Ze = !0, ke = !0, a = !0 } if (De || (o && _e.snapping || Ge.x && Math.abs(u.x) >= _e.scrollBoundary || Ge.y && Math.abs(u.y) >= _e.scrollBoundary) && (De = !0, Ue = !0, c = Te, _e.windowScrollingActiveFlag && (window[_e.windowScrollingActiveFlag] = Te), G("scrollstart", Z())), De && xe(), p && window.getSelection().removeAllRanges(), R(), a && (u.x > 0 ? He.x -= _e.scrollResponseBoundary : u.x < 0 && (He.x += _e.scrollResponseBoundary), u.y > 0 ? He.y -= _e.scrollResponseBoundary : u.y < 0 && (He.y += _e.scrollResponseBoundary), je.x = He.x + u.x, je.y = He.y + u.y, _e.scrollingClassName && (Ee.className += " " + _e.scrollingClassName), _e.scrollbars)) for (i in Ge) Ge.hasOwnProperty(i) && (Oe[i].className += " active"); $e.push({ x: e, y: t, t: n }), $e.length > 30 && $e.splice(0, 15) }, B = function (e, t) { ve(), Ye = !1, ne(), G("scrollinteractionend", {}), De ? ($e[$e.length - 1].t = e, De = !1, Ie = !1, c = !1, _e.windowScrollingActiveFlag && (window[_e.windowScrollingActiveFlag] = !1), t && t.preventDefault(), A() || X() || L()) : !X(!0) && Ie && L(!0) }, L = function (e) { var t, n, r, o, i; if (ke = !1, Ie = !1, _e.scrollingClassName && (i = new RegExp("(?:^|\\s)" + _e.scrollingClassName + "(?!\\S)", "g"), Ee.className = Ee.className.replace(i, "")), _e.scrollbars) for (r in Ge) Ge.hasOwnProperty(r) && (Oe[r].className = Oe[r].className.replace(/ ?active/g, "")); He.x = We.x, He.y = We.y, o = Z(), e || (G("scroll", o), U(!0)), o.cancelled = e, G("scrollend", o); for (r in Ge) Ge.hasOwnProperty(r) && (ze[r].style[g] = "", _e.scrollbars && (Oe[r].style[g] = "")); for (t = 0, n = Ke.length; t < n; t += 1)window.clearTimeout(Ke[t]); Ke.length = 0 }, P = function () { var e, t, n; ke = !1, q(); for (e in Ge) Ge.hasOwnProperty(e) && K(e, He[e], 16, _e.bounceDecelerationBezier); for (U(!1), t = 0, n = Ke.length; t < n; t += 1)window.clearTimeout(Ke[t]); Ke.length = 0 }, A = function () { var e, t, n, r, o, i, l, s, a, c, u, d, p, f, h, y, m, g, w, x, v, M = 0, E = !1, C = {}; if (1 === $e.length || !_e.flinging || "scrollwheel" === Ye) return !1; for (t in Ge) if (Ge.hasOwnProperty(t)) { for (d = 350, u = 0, f = !1, p = !1, g = void 0, y = _e.flingBezier, o = $e[$e.length - 1], i = $e[$e.length - 2], e = $e.length - 3; e >= 0 && !(o.t - $e[e].t > 100); e -= 1)i = $e[e]; if ((n = o.t - i.t) || (n = 16), r = (o[t] - i[t]) / n, Math.abs(r) < .01 ? (l = 0, s = 0) : (l = Math.log(.01 / Math.abs(r)) / Math.log(b), s = r * (1 - Math.pow(b, l + 1)) / (1 - b)), a = Math.floor(We[t] + s), _e.bouncing || (0 === We[t] && a > 0 ? a = 0 : We[t] === Be.scrollEnd[t] && a < We[t] && (a = We[t])), _e.singlePageScrolls && _e.snapping ? (w = -We[t] / Le[t], w = Ae[t] < w ? Math.floor(w) : Math.ceil(w), a > -(Ae[t] - 1) * Le[t] ? u = a + (Ae[t] - 1) * Le[t] : a < -(Ae[t] + 1) * Le[t] ? u = a + (Ae[t] + 1) * Le[t] : Math.abs(r) > .01 && (a = r < 0 ? Math.floor(We[t] / Le[t]) * Le[t] : Math.ceil(We[t] / Le[t]) * Le[t], l = Math.min(_e.maxFlingDuration, l * (a - We[t]) / s))) : _e.snapping && (u = a - Math.round(a / Le[t]) * Le[t]), a - u > 0 ? (u = a, f = !0) : a - u < Be.scrollEnd[t] && (u = a - Be.scrollEnd[t], f = !0), u && (f && _e.bouncing && s ? (v = (s = Math.floor(s)) - (x = a > 0 ? a - Math.max(0, We[t]) : a - Math.min(Be.scrollEnd[t], We[t])), s && l ? g = (m = y._getCoordinateForT(y.getTForY((s - x) / s, 1 / l), y._p1.x, y._p2.x)) * l : m = 0, h = Math.ceil(x / 8), Math.abs(h) > Be.container[t] / 2 && (h = h < 0 ? -Math.floor(Be.container[t] / 2) : Math.floor(Be.container[t] / 2)), p = a > 0 ? 0 : Be.scrollEnd[t], 0 === m ? (l /= 6, a = We[t] + v + h, c = l) : (c = (m + (1 - m) / 6) * l, V(t, We[t] + v + h, (1 - m) * l / 6, _e.bounceDecelerationBezier, g), y = y.divideAtX(c / l, 1 / l)[0], l = c, a = We[t] + v + h)) : s < 0 && u < s || s > 0 && u > s ? (a -= Math.floor(s / 2), u -= Math.floor(s / 2), d = 50 * Math.sqrt(Math.abs(u)), p = a - u, c = .97 * (l = 350)) : (a -= u, s ? (s < 0 && u < 0 || s > 0 && u > 0) && (m = y._getCoordinateForT(y.getTForY((Math.abs(s) - Math.abs(u)) / Math.abs(s), 1 / l), y._p1.x, y._p2.x), y = y.divideAtX(m, 1 / l)[0], l = Math.round(l * m)) : l = d, u = 0, d = 0)), a === We[t] && !u) continue; E = !0, K(t, a, l, y, g), u && d && V(t, p, d, _e.bounceBezier, c), M = Math.max(M, u ? c + d : l), C[t] = !1 === p ? a : p } return E && M && Ke.push(setTimeout(function () { var e; for (e in C) C.hasOwnProperty(e) && (We[e] = C[e]); L() }, M)), E }, X = function (e) { var t, n = e ? 100 : 350, r = We; _e.snapping && (Pe = N(r), r = Y(Pe, r)), r = D(r); var o = !1; for (t in Ve) Ve.hasOwnProperty(t) && r[t] !== We[t] && (o = !0); if (!o) return !1; for (t in Ve) Ve.hasOwnProperty(t) && K(t, r[t], n); return Ke.push(setTimeout(function () { We = r, L(e) }, n)), !0 }, N = function (e) { var t, n = { x: 0, y: 0 }; for (t in Ge) Ge.hasOwnProperty(t) && Le[t] && (n[t] = Math.round(e[t] / Le[t])); return n }, Y = function (e, t) { var n, r = { x: t.x, y: t.y }; for (n in Ge) Ge.hasOwnProperty(n) && (r[n] = e[n] * Le[n]); return r }, R = function () { var e, t, n; for (e in Ge) Ge.hasOwnProperty(e) && (t = 0, n = Be.scrollEnd[e], _e.singlePageScrolls && _e.snapping && (t = Math.min(t, -(Ae[e] - 1) * Le[e]), n = Math.max(n, -(Ae[e] + 1) * Le[e])), je[e] > t ? je[e] = t + Q(je[e] - t, e) : je[e] < n && (je[e] = n + Q(je[e] - n, e))); rt || te() }, D = function (e) { var t, n = { x: e.x, y: e.y }; for (t in Ge) if (Ge.hasOwnProperty(t)) { if (e[t] > 0) { n[t] = 0; continue } if (e[t] < Be.scrollEnd[t]) { n[t] = Be.scrollEnd[t]; continue } } return n }, I = function () { var e, t, n; if (!k()) { for (e = Fe.ownerDocument.createDocumentFragment(), t = document.createElement("DIV"), e.appendChild(t), t.innerHTML = FTScroller.prototype.getPrependedHTML(!_e.scrollingX, !_e.scrollingY, _e.hwAccelerationClass) + FTScroller.prototype.getAppendedHTML(!_e.scrollingX, !_e.scrollingY, _e.hwAccelerationClass, _e.scrollbars), n = Ee = t.firstElementChild, _e.scrollingX && (ze.x = Ee.firstElementChild, n = ze.x, _e.scrollbars && (Oe.x = Ee.getElementsByClassName("ftscroller_scrollbarx")[0])), _e.scrollingY ? (ze.y = n.firstElementChild, _e.scrollbars && (Oe.y = Ee.getElementsByClassName("ftscroller_scrollbary")[0]), Ce = ze.y) : Ce = ze.x; Fe.firstChild;)Ce.appendChild(Fe.firstChild); Fe.appendChild(Ee) } }, k = function () { var e, t, n, r, o, i, l, s, a; if ((e = Fe.firstElementChild) && -1 !== e.className.indexOf("ftscroller_container")) { if (_e.scrollingX) { if (!(t = e.firstElementChild) || -1 === t.className.indexOf("ftscroller_x")) return; if (r = t, _e.scrollbars) { if (l = e.getElementsByClassName("ftscroller_scrollbarx")) for (s = 0, a = l.length; s < a; s += 1)if (l[s].parentNode === e) { o = l[s]; break } if (!o) return } } else r = e; if (_e.scrollingY) { if (!(n = r.firstElementChild) || -1 === n.className.indexOf("ftscroller_y")) return; if (_e.scrollbars) { if (l = e.getElementsByClassName("ftscroller_scrollbary")) for (s = 0, a = l.length; s < a; s += 1)if (l[s].parentNode === e) { i = l[s]; break } if (!i) return } } return Ee = e, t && (ze.x = t), n && (ze.y = n), o && (Oe.x = o), i && (Oe.y = i), Ce = _e.scrollingY ? n : t, !0 } }, H = function (e) { et && window.clearTimeout(et), e && "resize" === e.type ? W() : et = setTimeout(function () { W() }, 100) }, W = function (e) { var t, n, r, o; if (!Ee || !Ce) return !1; et && (window.clearTimeout(et), et = !1), o = { x: !1, y: !1 }; for (t in o) o.hasOwnProperty(t) && (0 === We[t] ? o[t] = -1 : We[t] <= Be.scrollEnd[t] ? o[t] = 1 : 2 * We[t] <= Be.scrollEnd[t] + 5 && 2 * We[t] >= Be.scrollEnd[t] - 5 && (o[t] = 0)); n = Ee.offsetWidth, r = Ee.offsetHeight; var i = f.contentWidth || Ce.offsetWidth, l = f.contentHeight || Ce.offsetHeight, s = i, a = l, c = { x: We.x, y: We.y }; if (Le.userX || (Le.x = n), Le.userY || (Le.y = r), _e.snapping && (s = Le.userX ? Math.ceil(s / Le.userX) * Le.userX : Math.ceil(s / Le.x) * Le.x, a = Le.userY ? Math.ceil(a / Le.userY) * Le.userY : Math.ceil(a / Le.y) * Le.y), Be.container.x !== n || Be.container.y !== r || Be.content.x !== s || Be.content.y !== a) if (Be.container.x = n, Be.container.y = r, Be.content.x = s, Be.content.rawX = i, Be.content.y = a, Be.content.rawY = l, Be.scrollEnd.x = n - s, Be.scrollEnd.y = r - a, j(), De) We.x-- , We.y-- , R(); else { !e && _e.snapping && (U(), c = Y(Pe, We)); for (t in c) if (c.hasOwnProperty(t)) { if (Be.container[t] < Be.content[t] && Ze && _e.baseAlignments[t] !== o[t]) continue; 1 === _e.baseAlignments[t] ? c[t] = Be.scrollEnd[t] : 0 === _e.baseAlignments[t] ? c[t] = Math.floor(Be.scrollEnd[t] / 2) : -1 === _e.baseAlignments[t] && (c[t] = 0) } c = D(c), _e.scrollingX && c.x !== We.x && (K("x", c.x, 0), He.x = c.x), _e.scrollingY && c.y !== We.y && (K("y", c.y, 0), He.y = c.y) } }, j = function () { _e.scrollbars && (_e.scrollingX && (Oe.x.style.width = Math.max(6, Math.round(Be.container.x * (Be.container.x / Be.content.x) - 4)) + "px"), _e.scrollingY && (Oe.y.style.height = Math.max(6, Math.round(Be.container.y * (Be.container.y / Be.content.y) - 4)) + "px")), Ge = {}, _e.scrollingX && (Be.content.x > Be.container.x || _e.alwaysScroll) && (Ge.x = !0), _e.scrollingY && (Be.content.y > Be.container.y || _e.alwaysScroll) && (Ge.y = !0) }, q = function () { var e, t; for (e in Ge) Ge.hasOwnProperty(e) && (6 === (t = window.getComputedStyle(ze[e], null)[n].split(", ")).length ? He[e] = parseInt(t["y" === e ? 5 : 4], 10) : He[e] = parseInt(t["y" === e ? 13 : 12], 10), We[e] = He[e]) }, U = function (e) { var t, n = { x: 0, y: 0 }; if (_e.snapping) { for (t in Ge) Ge.hasOwnProperty(t) && (n[t] = Math.max(0, Math.min(Math.ceil(Be.content[t] / Le[t]) - 1, Math.round(-We[t] / Le[t])))); n.x === Xe.x && n.y === Xe.y || (Xe.x = n.x, Xe.y = n.y, G("segmentwillchange", { segmentX: n.x, segmentY: n.y })), e && (n.x === Ae.x && n.y === Ae.y || (Ae.x = n.x, Ae.y = n.y, G("segmentdidchange", { segmentX: n.x, segmentY: n.y }))) } }, K = function (t, n, r, o, i) { var l, s = null; if (!ze[t]) return !1; r ? (o || (o = _e.flingBezier), l = e + "transform " + r + "ms " + o.toString()) : l = "", ze[t].style[g] = l, _e.scrollbars && (Oe[t].style[g] = l), ze[t].style[m] = w + x[t] + n + "px" + v[t], _e.scrollbars && (Oe[t].style[m] = w + x[t] + -n * Be.container[t] / Be.content[t] + "px" + v[t]), n >= 0 ? s = "start" : n <= Be.scrollEnd[t] && (s = "end"), s !== qe[t] && (null !== s && (r ? Ke.push(setTimeout(function () { G("reached" + s, { axis: t }) }, i || r)) : G("reached" + s, { axis: t })), qe[t] = s), r || (We[t] = n) }, Z = function () { return { scrollLeft: -We.x, scrollTop: -We.y } }, V = function (e, t, n, r, o) { Ke.push(setTimeout(function () { K(e, t, n, r) }, o)) }, G = function (e, t) { var n, r; for (t.srcObject = Me, n = 0, r = it[e].length; n < r; n += 1)try { it[e][n](t) } catch (t) { window.console && window.console.error && (t.message ? window.console.error(t.message + " (" + t.sourceURL + ", line " + t.line + ")") : (window.console.error("Error encountered executing FTScroller event listener callback for [" + e + ']. Add a "debugger" statement here to obtain a full backtrace.'), window.console.dir && window.console.dir(t))) } }, J = function (e) { var t, n, r = be(e.target), o = be(Ee), i = { x: "left", y: "top" }, l = { x: "right", y: "bottom" }, s = { x: "width", y: "height" }; if (!1 === Ye) { for (n in Ge) if (Ge.hasOwnProperty(n)) { if (r[i[n]] >= o[i[n]] && r[l[n]] <= o[l[n]]) continue; if (r[s[n]] > o[s[n]] && r[s[n]] - Math.max(0, o[i[n]] - r[i[n]]) - Math.max(0, r[l[n]] - o[l[n]]) >= o[s[n]] / 2) continue; t = -Math.round(r[s[n]] / 2 - We[n] + r[i[n]] - o[i[n]] - o[s[n]] / 2), t = Math.min(0, Math.max(Be.scrollEnd[n], t)), K(n, t, 0), He[n] = t } G("scroll", Z()) } }, Q = function (e, t) { if (!_e.bouncing) return 0; var n = Math.exp(e / Be.container[t]); return Math.round(.6 * Be.container[t] * (n - 1) / (n + 1)) }, $ = function (e) { var t, n, r = {}; for (t in e) e.hasOwnProperty(t) && ((n = e[t]) >= 0 ? r[t] = n : n > Be.scrollEnd[t] ? r[t] = -1 : r[t] = Be.scrollEnd[t] - n); return r }, ee = function () { rt && (ne(), nt = rt(te)) }, te = function e() { var t, n; rt && (nt = rt(e)); for (t in Ge) Ge.hasOwnProperty(t) && je[t] !== We[t] && (K(t, je[t]), n = !0); De && n && (G("scroll", Z()), U(!1)) }, ne = function () { !1 !== nt && ot && (ot(nt), nt = !1) }, ie = function () { oe(), re() }, re = function () { var e; Ee && (s && !_e.disabledInputMethods.pointer ? r ? (Ee.addEventListener("MSPointerDown", pe), Ee.addEventListener("MSPointerMove", fe), Ee.addEventListener("MSPointerUp", he), Ee.addEventListener("MSPointerCancel", ye)) : (Ee.addEventListener("pointerdown", pe), Ee.addEventListener("pointermove", fe), Ee.addEventListener("pointerup", he), Ee.addEventListener("pointercancel", ye)) : (u && !_e.disabledInputMethods.touch && (Ee.addEventListener("touchstart", le), Ee.addEventListener("touchmove", se), Ee.addEventListener("touchend", ae), Ee.addEventListener("touchcancel", ae)), _e.disabledInputMethods.mouse || Ee.addEventListener("mousedown", ce)), _e.disabledInputMethods.scroll || (Ee.addEventListener("DOMMouseScroll", we), Ee.addEventListener("mousewheel", we)), _e.disabledInputMethods.mouse && _e.disabledInputMethods.touch && _e.disabledInputMethods.pointer || (s ? document.addEventListener("click", ge, !0) : Ee.addEventListener("click", ge, !0)), _e.disabledInputMethods.focus || Ce.addEventListener("focus", J), _e.updateOnChanges && (Se || (e = window.MutationObserver || window.WebKitMutationObserver || window[t + "MutationObserver"]) && (Se = new e(H)), Se ? Se.observe(Ce, { childList: !0, characterData: !0, subtree: !0 }) : Ce.addEventListener("DOMSubtreeModified", function (e) { (!e || e.srcElement !== Ce && -1 === e.srcElement.className.indexOf("ftscroller_")) && H() }, !0), Ce.addEventListener("load", H)), _e.updateOnWindowResize && window.addEventListener("resize", H)) }, oe = function () { Ee && (Ee.removeEventListener("MSPointerDown", pe), Ee.removeEventListener("MSPointerMove", fe), Ee.removeEventListener("MSPointerUp", he), Ee.removeEventListener("MSPointerCancel", ye), Ee.removeEventListener("pointerdown", pe), Ee.removeEventListener("pointermove", fe), Ee.removeEventListener("pointerup", he), Ee.removeEventListener("pointercancel", ye), Ee.removeEventListener("touchstart", le), Ee.removeEventListener("touchmove", se), Ee.removeEventListener("touchend", ae), Ee.removeEventListener("touchcancel", ae), Ee.removeEventListener("mousedown", ce), Ee.removeEventListener("DOMMouseScroll", we), Ee.removeEventListener("mousewheel", we), Ee.removeEventListener("click", ge, !0)), Ce && (Ce.removeEventListener("focus", J), Ce.removeEventListener("DOMSubtreeModified", H), Ce.removeEventListener("load", H)), Se && Se.disconnect(), document.removeEventListener("mousemove", ue), document.removeEventListener("mouseup", de), document.removeEventListener("click", ge, !0), window.removeEventListener("resize", H) }, le = function (e) { var t, n, r; if (Ye) for (t = 0, n = e.touches.length; t < n; t += 1)e.touches[t].identifier === Ye && (Ne = t); else r = e.touches[0], Ye = r.identifier, Ne = 0, z(r.clientX, r.clientY, e.timeStamp, e) }, se = function (e) { if (!1 !== Ye) { var t = e.touches[Ne]; O(t.clientX, t.clientY, e.timeStamp, e) } }, ae = function (e) { var t, n; if (e.touches) for (t = 0, n = e.touches.length; t < n; t += 1)if (e.touches[t].identifier === Ye) return void (Ne = t); B(e.timeStamp, e) }, ce = function (e) { e.button && 2 === e.button || e.ctrlKey || (Ee.setCapture && Ee.setCapture(), document.addEventListener("mousemove", ue, !0), document.addEventListener("mouseup", de, !0), Ye = e.button || 1, Ne = 0, z(e.clientX, e.clientY, e.timeStamp, e)) }, ue = function (e) { Ye && O(e.clientX, e.clientY, e.timeStamp, e) }, de = function e(t) { t.button && t.button !== Ye || (document.removeEventListener("mousemove", ue, !0), document.removeEventListener("mouseup", e, !0), Ee.releaseCapture && Ee.releaseCapture(), B(t.timeStamp, t)) }, pe = function (e) { if (!Ye || e.isPrimary) { if (e.pointerType === a) { if (_e.disabledInputMethods.touch) return } else if (_e.disabledInputMethods.mouse) return; Ye = e.pointerId, z(e.clientX, e.clientY, e.timeStamp, e) } }, fe = function (e) { Ye === e.pointerId && O(e.clientX, e.clientY, e.timeStamp, e) }, he = function (e) { Ye === e.pointerId && B(e.timeStamp, e) }, ye = function (e) { B(e.timeStamp, e) }, me = function (e) { Re = !1 }, ge = function (e) { return !Ue || (e.preventDefault(), e.stopPropagation(), Ye || (Ue = !1), !1) }, we = function (e) { var t, n; if ("scrollwheel" !== Ye) { if (!1 !== Ye) return !0; if (Ye = "scrollwheel", Qe.x = 0, Qe.y = 0, !z(e.clientX, e.clientY, Date.now(), e)) return } e.wheelDelta ? e.wheelDeltaX ? (t = e.wheelDeltaX / 2, n = e.wheelDeltaY / 2) : (t = 0, n = e.wheelDelta / 2) : e.axis && e.axis === e.HORIZONTAL_AXIS ? (t = -10 * e.detail, n = 0) : (t = 0, n = -10 * e.detail), !_e.invertScrollWheel && (_e.scrollingX && !_e.scrollingY && Math.abs(t) < Math.abs(n) || !_e.scrollingX && _e.scrollingY && Math.abs(t) > Math.abs(n)) || (!_e.invertScrollWheel || _e.scrollingY || t || (t = n, n = 0), Qe.x = Math.round(Qe.x + t), Qe.y = Math.round(Qe.y + n), O(Je.x + Qe.x, Je.y + Qe.y, e.timeStamp, e), tt && clearTimeout(tt), tt = setTimeout(function () { ve(), Ye = !1, De = !1, Ue = !1, Ie = !1, c = !1, _e.windowScrollingActiveFlag && (window[_e.windowScrollingActiveFlag] = !1), ne(), X() || L() }, 300)) }, xe = function () { Re || !1 === Ye || "scrollwheel" === Ye || (s && (Ee[o](Ye), Ee.addEventListener(l, me, !1)), Re = !0) }, ve = function () { Re && (s && (Ee.removeEventListener(l, me, !1), Ee[i](Ye)), Re = !1) }, be = function (e) { if (e.getBoundingClientRect) return e.getBoundingClientRect(); for (var t = 0, n = 0, r = e; r;)t = t + r.offsetLeft - r.scrollLeft, n = n + r.offsetTop - r.scrollTop, r = r.offsetParent; return { left: t, top: n, width: e.offsetWidth, height: e.offsetHeight } }, I(), W(), re(), Me = { destroy: y, setSnapSize: M, scrollTo: E, scrollBy: C, updateDimensions: S, addEventListener: _, removeEventListener: T, setDisabledInputMethods: F }, Object.defineProperties && Object.defineProperties(Me, { scrollHeight: { get: function () { return Be.content.y }, set: function (e) { throw new SyntaxError("scrollHeight is currently read-only - ignoring " + e) } }, scrollLeft: { get: function () { return -We.x }, set: function (e) { return E(e, !1, !1), -We.x } }, scrollTop: { get: function () { return -We.y }, set: function (e) { return E(!1, e, !1), -We.y } }, scrollWidth: { get: function () { return Be.content.x }, set: function (e) { throw new SyntaxError("scrollWidth is currently read-only - ignoring " + e) } }, segmentCount: { get: function () { return _e.snapping ? { x: Math.ceil(Be.content.x / Le.x), y: Math.ceil(Be.content.y / Le.y) } : { x: NaN, y: NaN } }, set: function (e) { throw new SyntaxError("segmentCount is currently read-only - ignoring " + e) } }, currentSegment: { get: function () { return { x: Xe.x, y: Xe.y } }, set: function (e) { throw new SyntaxError("currentSegment is currently read-only - ignoring " + e) } }, contentContainerNode: { get: function () { return Ce }, set: function (e) { throw new SyntaxError("contentContainerNode is currently read-only - ignoring " + e) } } }), Me }).prototype.getPrependedHTML = function (e, t, n) { n || (n = "object" == typeof FTScrollerOptions && FTScrollerOptions.hwAccelerationClass ? FTScrollerOptions.hwAccelerationClass : "ftscroller_hwaccelerated"); var r = '<div class="ftscroller_container">'; return e || (r += '<div class="ftscroller_x ' + n + '">'), t || (r += '<div class="ftscroller_y ' + n + '">'), r }, FTScroller.prototype.getAppendedHTML = function (e, t, n, r) { n || (n = "object" == typeof FTScrollerOptions && FTScrollerOptions.hwAccelerationClass ? FTScrollerOptions.hwAccelerationClass : "ftscroller_hwaccelerated"); var o = ""; return e || (o += "</div>"), t || (o += "</div>"), r && (e || (o += '<div class="ftscroller_scrollbar ftscroller_scrollbarx ' + n + '"><div class="ftscroller_scrollbarinner"></div></div>'), t || (o += '<div class="ftscroller_scrollbar ftscroller_scrollbary ' + n + '"><div class="ftscroller_scrollbarinner"></div></div>')), o += "</div>" } }(), function () { "use strict"; function e(e) { return e > 1 ? 1 : e < 0 ? 0 : e } (CubicBezier = function (t, n, r, o) { this._p1 = { x: e(t), y: e(n) }, this._p2 = { x: e(r), y: e(o) } }).prototype._getCoordinateForT = function (e, t, n) { var r = 3 * t, o = 3 * (n - t) - r; return (((1 - r - o) * e + o) * e + r) * e }, CubicBezier.prototype._getCoordinateDerivateForT = function (e, t, n) { var r = 3 * t, o = 3 * (n - t) - r; return (3 * (1 - r - o) * e + 2 * o) * e + r }, CubicBezier.prototype._getTForCoordinate = function (e, t, n, r) { if (!isFinite(r) || r <= 0) throw new RangeError('"epsilon" must be a number greater than 0.'); var o, i, l, s; for (o = e, i = 0; i < 8; i += 1) { if (l = this._getCoordinateForT(o, t, n) - e, Math.abs(l) < r) return o; if (s = this._getCoordinateDerivateForT(o, t, n), Math.abs(s) < 1e-6) break; o -= l / s } var a = 0, c = 1; if ((o = e) < a) return a; if (o > c) return c; for (; a < c;) { if (l = this._getCoordinateForT(o, t, n), Math.abs(l - e) < r) return o; e > l ? a = o : c = o, o = .5 * (c - a) + a } return o }, CubicBezier.prototype.getPointForT = function (e) { return 0 === e || 1 === e ? { x: e, y: e } : ((e < 0 || e > 1) && _throwRangeError("t", e), { x: this._getCoordinateForT(e, this._p1.x, this._p2.x), y: this._getCoordinateForT(e, this._p1.y, this._p2.y) }) }, CubicBezier.prototype.getTForX = function (e, t) { return this._getTForCoordinate(e, this._p1.x, this._p2.x, t) }, CubicBezier.prototype.getTForY = function (e, t) { return this._getTForCoordinate(e, this._p1.y, this._p2.y, t) }, CubicBezier.prototype._getAuxPoints = function (e) { (e <= 0 || e >= 1) && _throwRangeError("t", e); var t = { x: e * this._p1.x, y: e * this._p1.y }, n = { x: this._p1.x + e * (this._p2.x - this._p1.x), y: this._p1.y + e * (this._p2.y - this._p1.y) }, r = { x: this._p2.x + e * (1 - this._p2.x), y: this._p2.y + e * (1 - this._p2.y) }, o = { x: t.x + e * (n.x - t.x), y: t.y + e * (n.y - t.y) }, i = { x: n.x + e * (r.x - n.x), y: n.y + e * (r.y - n.y) }; return { i0: t, i1: n, i2: r, j0: o, j1: i, k: { x: o.x + e * (i.x - o.x), y: o.y + e * (i.y - o.y) } } }, CubicBezier.prototype.divideAtT = function (e) { if ((e < 0 || e > 1) && _throwRangeError("t", e), 0 === e || 1 === e) { var t = []; return t[e] = CubicBezier.linear(), t[1 - e] = this.clone(), t } var n = {}, r = {}, o = this._getAuxPoints(e), i = o.i0, l = o.i2, s = o.j0, a = o.j1, c = o.k, u = c.x, d = c.y; return n.p1 = { x: i.x / u, y: i.y / d }, n.p2 = { x: s.x / u, y: s.y / d }, r.p1 = { x: (a.x - u) / (1 - u), y: (a.y - d) / (1 - d) }, r.p2 = { x: (l.x - u) / (1 - u), y: (l.y - d) / (1 - d) }, [new CubicBezier(n.p1.x, n.p1.y, n.p2.x, n.p2.y), new CubicBezier(r.p1.x, r.p1.y, r.p2.x, r.p2.y)] }, CubicBezier.prototype.divideAtX = function (e, t) { (e < 0 || e > 1) && _throwRangeError("x", e); var n = this.getTForX(e, t); return this.divideAtT(n) }, CubicBezier.prototype.divideAtY = function (e, t) { (e < 0 || e > 1) && _throwRangeError("y", e); var n = this.getTForY(e, t); return this.divideAtT(n) }, CubicBezier.prototype.clone = function () { return new CubicBezier(this._p1.x, this._p1.y, this._p2.x, this._p2.y) }, CubicBezier.prototype.toString = function () { return "cubic-bezier(" + [this._p1.x, this._p1.y, this._p2.x, this._p2.y].join(", ") + ")" }, CubicBezier.linear = function () { return new CubicBezier }, CubicBezier.ease = function () { return new CubicBezier(.25, .1, .25, 1) }, CubicBezier.linear = function () { return new CubicBezier(0, 0, 1, 1) }, CubicBezier.easeIn = function () { return new CubicBezier(.42, 0, 1, 1) }, CubicBezier.easeOut = function () { return new CubicBezier(0, 0, .58, 1) }, CubicBezier.easeInOut = function () { return new CubicBezier(.42, 0, .58, 1) } }(), "undefined" != typeof define && define.amd ? define(function () { "use strict"; return { FTScroller: FTScroller, CubicBezier: CubicBezier } }) : "undefined" != typeof module && module.exports && (module.exports = function (e, t) { "use strict"; return new FTScroller(e, t) }, module.exports.FTScroller = FTScroller, module.exports.CubicBezier = CubicBezier);